<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Mysql数据库连接Public Key Retrieval is not allowed | Dhayser&#39;s space</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="连接报错官方文档：链接(以下内容摘至官网)If the user account uses sha256_password authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available th">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql数据库连接Public Key Retrieval is not allowed">
<meta property="og:url" content="https://dhayser.github.io/2023/01/10/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5Public-Key-Retrieval-is-not-allowed/index.html">
<meta property="og:site_name" content="Dhayser&#39;s space">
<meta property="og:description" content="连接报错官方文档：链接(以下内容摘至官网)If the user account uses sha256_password authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available th">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-01-10T07:48:57.000Z">
<meta property="article:modified_time" content="2023-01-10T09:05:43.624Z">
<meta property="article:author" content="Dhayser Li">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Dhayser's space" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Dhayser&#39;s space</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dhayser.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-Mysql数据库连接Public-Key-Retrieval-is-not-allowed" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/01/10/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5Public-Key-Retrieval-is-not-allowed/" class="article-date">
  <time class="dt-published" datetime="2023-01-10T07:48:57.000Z" itemprop="datePublished">2023-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Mysql数据库连接Public Key Retrieval is not allowed
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="连接报错"><a href="#连接报错" class="headerlink" title="连接报错"></a>连接报错</h2><p>官方文档：<a target="_blank" rel="noopener" href="https://mysqlconnector.net/connection-options/">链接</a>(以下内容摘至官网)<br>If the user account uses sha256_password authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available then RSA public key encryption will be used. To specify the server’s RSA public key, use the ServerRSAPublicKeyFile connection string setting, or set AllowPublicKeyRetrieval&#x3D;True to allow the client to automatically request the public key from the server. Note that AllowPublicKeyRetrieval&#x3D;True could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.<br>由于当禁用SSL&#x2F;TLS 协议传输后，客户端会使用服务器的公钥进行传输，默认情况下客户端不会主动去找服务器拿公钥，此时就会出现上述错误。</p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>数据库连接配置AllowPublicKeyRetrieval&#x3D;True即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dhayser.github.io/2023/01/10/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5Public-Key-Retrieval-is-not-allowed/" data-id="cll0rivfo0005tshf0xif8pj3" data-title="Mysql数据库连接Public Key Retrieval is not allowed" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/03/17/NetSarang%E4%BA%A7%E5%93%81%E7%BA%BF%E5%90%8E%E9%97%A8%E5%88%86%E6%9E%90/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          NetSarang产品线后门分析
        
      </div>
    </a>
  
  
    <a href="/2022/12/30/Spring-Boot%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%A9%E7%94%A8/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Spring Boot漏洞分析与利用</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/08/07/Nacos%E6%BC%8F%E6%B4%9E%E6%B1%87%E6%80%BB/">Nacos后渗透</a>
          </li>
        
          <li>
            <a href="/2023/03/21/%E6%B5%81%E9%87%8F%E5%8C%85%E5%88%86%E6%9E%90/">流量包分析</a>
          </li>
        
          <li>
            <a href="/2023/03/17/NetSarang%E4%BA%A7%E5%93%81%E7%BA%BF%E5%90%8E%E9%97%A8%E5%88%86%E6%9E%90/">NetSarang产品线后门分析</a>
          </li>
        
          <li>
            <a href="/2023/01/10/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5Public-Key-Retrieval-is-not-allowed/">Mysql数据库连接Public Key Retrieval is not allowed</a>
          </li>
        
          <li>
            <a href="/2022/12/30/Spring-Boot%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E4%B8%8E%E5%88%A9%E7%94%A8/">Spring Boot漏洞分析与利用</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Dhayser Li<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>